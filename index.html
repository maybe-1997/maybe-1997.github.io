<!DOCTYPE html>
<html>
<head>
    <title>JavaScript 错误测试</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
        }
        .error-log {
            margin-top: 20px;
            padding: 10px;
            background: #f8f8f8;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <h1>JavaScript 错误测试页面</h1>
    <div>
        <button onclick="triggerReferenceError()">引用错误</button>
        <button id="typeError" onclick="triggerTypeError()">类型错误</button>
        <button onclick="triggerSyntaxError()">语法错误</button>
        <button onclick="triggerPromiseError()">Promise 错误</button>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div>这是一个占位元素</div>
        <div id="lastItem">你好，我是最后的</div>
    </div>
    <div class="error-log" id="errorLog"></div>

    <script>
        // // 记录错误到页面
        // function logError(error) {
        //     const errorLog = document.getElementById('errorLog');
        //     errorLog.innerHTML += `<p>${new Date().toISOString()}: ${error}</p>`;
        // }

        // // 全局错误处理
        // window.onerror = function(msg, url, line, col, error) {
        //     logError(`${error.name}: ${error.message}`);
        // };

        // window.addEventListener('unhandledrejection', function(event) {
        //     logError(`Promise Error: ${event.reason}`);
        // });

        // // 错误触发函数
        function triggerReferenceError() {
            console.log(undefinedVariable);
        }
        triggerReferenceError()

        function triggerTypeError() {
            const obj = null;
            obj.someMethod();
        }

        // function triggerSyntaxError() {
        //     eval('if(true) {');
        // }

        // function triggerPromiseError() {
        //     new Promise((resolve, reject) => {
        //         reject(new Error('Promise 被拒绝'));
        //     });
        // }

        // // 自动触发一些错误
        // setTimeout(triggerReferenceError, 2000);
    </script>
</body>
</html>
